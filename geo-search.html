<!-- <script src="GEO.js"></script> -->

<dom-module id="geo-search">

    <template>
    </template>

    <script>
        Polymer({
            is: 'geo-search',
            properties: {
                query: {
                    type: String,
                    observer: 'doSearch'
                },
                result: {
                    type: Object,
                    notify: true
                },
                first: {
                    type: Object,
                    notify: true
                }
            },
            ready: function () {
                // bb = this;
            },
            doSearch: function () {
                GEO.search(this.query, function (result) {
                    this.set('result', result);
                    if(result) this.set('first', result[0]);
                    this.fire('change', result);
                }.bind(this));
            }

        });
    </script>
</dom-module>
