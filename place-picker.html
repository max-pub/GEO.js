<link rel="import" href="paper-popup.html">
<link rel="import" href="auto-search.html">
<link rel="import" href="place-list.html">


<polymer-element name="place-picker" attributes="value">
    <template>
        <paper-popup id='popup' name='Place Picker' backgroundColor='#8c9eff'>
            <style>
                    #search /deep/ ::-webkit-input-placeholder{color: #eeeeee;font-style: italic;}
            </style>
            <header style='padding-top:0px;'>
                <auto-search id='search' delay='500' value='{{query}}' minlength='3'></auto-search>
<!--                <core-icon icon="my-location"></core-icon>-->
            </header>
            <main>
                <place-list search="{{query}}" selected="{{place}}" on-selected='{{select}}'></place-list>
            </main>
        </paper-popup>
    </template>
    <script>
        Polymer({
            toggle: function(){
                this.$.popup.toggle();
                this.job('',function(){
                    this.$.search.shadowRoot.querySelector('input').focus();
                }, 500);
            },
            select: function(){
                this.$.popup.toggle();
                this.value = this.place;
            }
        });
    </script>
</polymer-element>

